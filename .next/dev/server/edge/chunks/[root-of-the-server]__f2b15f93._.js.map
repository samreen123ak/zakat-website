{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport type { NextRequest } from \"next/server\"\n\nexport function middleware(request: NextRequest) {\n  const pathname = request.nextUrl.pathname\n\n  // Staff routes that require authentication\n  const protectedRoutes = [\"/staff/dashboard\", \"/staff/cases\", \"/staff/profile\"]\n\n  const isProtectedRoute = protectedRoutes.some((route) => pathname.startsWith(route))\n\n  // Get token from localStorage (client-side) or cookies\n  const token = request.cookies.get(\"rahmah_admin_token\")?.value\n\n  // If accessing protected route without token, redirect to login\n  if (isProtectedRoute && !token) {\n    return NextResponse.redirect(new URL(\"/staff/login\", request.url))\n  }\n\n  // If already logged in and trying to access login/signup, redirect to dashboard\n  if ((pathname === \"/staff/login\" || pathname === \"/staff/signup\") && token) {\n    return NextResponse.redirect(new URL(\"/staff/dashboard\", request.url))\n  }\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: [\"/staff/:path*\"],\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC7C,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IAEzC,2CAA2C;IAC3C,MAAM,kBAAkB;QAAC;QAAoB;QAAgB;KAAiB;IAE9E,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAAU,SAAS,UAAU,CAAC;IAE7E,uDAAuD;IACvD,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,uBAAuB;IAEzD,gEAAgE;IAChE,IAAI,oBAAoB,CAAC,OAAO;QAC9B,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,gBAAgB,QAAQ,GAAG;IAClE;IAEA,gFAAgF;IAChF,IAAI,CAAC,aAAa,kBAAkB,aAAa,eAAe,KAAK,OAAO;QAC1E,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,oBAAoB,QAAQ,GAAG;IACtE;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAgB;AAC5B"}}]
}