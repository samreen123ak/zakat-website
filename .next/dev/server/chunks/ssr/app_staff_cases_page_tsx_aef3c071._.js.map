{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sam_Bhatti/Desktop/Rahmah%20Exchange/Frontend/app/staff/cases/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport Link from \"next/link\"\nimport { Heart } from \"lucide-react\"\n\ninterface Case {\n  _id: string\n  firstName: string\n  lastName: string\n  requestType: string\n  amountRequested: number | null\n  status: string\n  createdAt: string\n}\n\ninterface ApiResponse {\n  items: Case[]\n  total: number\n  page: number\n  limit: number\n}\n\nexport default function CasesPage() {\n  const [cases, setCases] = useState<Case[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    const fetchCases = async () => {\n      try {\n        const res = await fetch(\"https://rahmah-exchange-backend-production.up.railway.app/api/zakatApplicants\", {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          mode: \"cors\",\n          cache: \"no-store\",\n        })\n\n        if (!res.ok) {\n          throw new Error(`API error: ${res.status} ${res.statusText}`)\n        }\n\n        const result: ApiResponse = await res.json()\n        console.log(\"[v0] Fetched data:\", result)\n\n        const caseData = Array.isArray(result.items) ? result.items : []\n        setCases(caseData)\n        setError(null)\n      } catch (error) {\n        console.error(\"Error fetching cases:\", error)\n        setError(`Failed to load cases: ${error instanceof Error ? error.message : \"Unknown error\"}`)\n        setCases([])\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchCases()\n  }, [])\n\n  return (\n    <div className=\"min-h-screen bg-linear-to-b from-teal-50 to-blue-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-200 px-8 py-6\">\n        <div className=\"max-w-7xl mx-auto flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-8 h-8 bg-teal-600 rounded-full flex items-center justify-center\">\n              <Heart className=\"w-5 h-5 text-white fill-white\" />\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Admin Dashboard</h1>\n          </div>\n          <Link href=\"/staff/dashboard\" className=\"text-gray-600 hover:text-gray-900 text-sm\">\n            Back to Overview\n          </Link>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-8 py-12\">\n        <div className=\"mb-8\">\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">Case Queue</h2>\n          <p className=\"text-gray-600\">Welcome, To Admin Dashboard</p>\n        </div>\n\n        {/* Loading */}\n        {loading && <p className=\"text-gray-600\">...</p>}\n\n        {/* Error */}\n        {error && <p className=\"text-red-600 bg-red-50 p-4 rounded\">{error}</p>}\n\n        {/* No Cases */}\n        {!loading && !error && cases.length === 0 && <p className=\"text-gray-600\">No cases found.</p>}\n\n        {/* Cases List */}\n        <div className=\"space-y-6\">\n          {cases.map((caseItem) => (\n            <div key={caseItem._id} className=\"bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <h3 className=\"text-lg font-bold text-gray-900\">\n                    {caseItem.firstName} {caseItem.lastName}\n                  </h3>\n                  <div className=\"flex items-center gap-4 mt-2\">\n                    <span\n                      className={`px-3 py-1 rounded-full text-sm font-medium ${\n                        caseItem.status === \"Pending\"\n                          ? \"bg-yellow-100 text-yellow-800\"\n                          : caseItem.status === \"Approved\"\n                            ? \"bg-green-100 text-green-800\"\n                            : \"bg-gray-100 text-gray-800\"\n                      }`}\n                    >\n                      {caseItem.status}\n                    </span>\n                  </div>\n                </div>\n\n                <Link href={`/staff/cases/${caseItem._id}`}>\n                  <button className=\"px-4 py-2 text-teal-600 font-medium hover:text-teal-700 transition\">\n                    View Case\n                  </button>\n                </Link>\n              </div>\n\n              {/* Case Details Grid */}\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6 pt-6 border-t border-gray-200\">\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\">Case ID</p>\n                  <p className=\"font-semibold text-gray-900\">{caseItem._id}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\">Request Type</p>\n                  <p className=\"font-semibold text-gray-900\">{caseItem.requestType || \"N/A\"}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\">Amount Requested</p>\n                  <p className=\"font-semibold text-gray-900\">\n                    {caseItem.amountRequested ? `$${caseItem.amountRequested}` : \"Not specified\"}\n                  </p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-600 mb-1\">Submitted</p>\n                  <p className=\"font-semibold text-gray-900\">{new Date(caseItem.createdAt).toLocaleDateString()}</p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAuBe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,iFAAiF;oBACvG,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;oBACA,MAAM;oBACN,OAAO;gBACT;gBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,UAAU,EAAE;gBAC9D;gBAEA,MAAM,SAAsB,MAAM,IAAI,IAAI;gBAC1C,QAAQ,GAAG,CAAC,sBAAsB;gBAElC,MAAM,WAAW,MAAM,OAAO,CAAC,OAAO,KAAK,IAAI,OAAO,KAAK,GAAG,EAAE;gBAChE,SAAS;gBACT,SAAS;YACX,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,SAAS,CAAC,sBAAsB,EAAE,iBAAiB,QAAQ,MAAM,OAAO,GAAG,iBAAiB;gBAC5F,SAAS,EAAE;YACb,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,6MAAK;wCAAC,WAAU;;;;;;;;;;;8CAEnB,8OAAC;oCAAG,WAAU;8CAAmC;;;;;;;;;;;;sCAEnD,8OAAC,uKAAI;4BAAC,MAAK;4BAAmB,WAAU;sCAA4C;;;;;;;;;;;;;;;;;0BAOxF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,8OAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;oBAI9B,yBAAW,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;oBAGxC,uBAAS,8OAAC;wBAAE,WAAU;kCAAsC;;;;;;oBAG5D,CAAC,WAAW,CAAC,SAAS,MAAM,MAAM,KAAK,mBAAK,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;kCAG1E,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,yBACV,8OAAC;gCAAuB,WAAU;;kDAChC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAG,WAAU;;4DACX,SAAS,SAAS;4DAAC;4DAAE,SAAS,QAAQ;;;;;;;kEAEzC,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DACC,WAAW,CAAC,2CAA2C,EACrD,SAAS,MAAM,KAAK,YAChB,kCACA,SAAS,MAAM,KAAK,aAClB,gCACA,6BACN;sEAED,SAAS,MAAM;;;;;;;;;;;;;;;;;0DAKtB,8OAAC,uKAAI;gDAAC,MAAM,CAAC,aAAa,EAAE,SAAS,GAAG,EAAE;0DACxC,cAAA,8OAAC;oDAAO,WAAU;8DAAqE;;;;;;;;;;;;;;;;;kDAO3F,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAE,WAAU;kEAA6B;;;;;;kEAC1C,8OAAC;wDAAE,WAAU;kEAA+B,SAAS,GAAG;;;;;;;;;;;;0DAE1D,8OAAC;;kEACC,8OAAC;wDAAE,WAAU;kEAA6B;;;;;;kEAC1C,8OAAC;wDAAE,WAAU;kEAA+B,SAAS,WAAW,IAAI;;;;;;;;;;;;0DAEtE,8OAAC;;kEACC,8OAAC;wDAAE,WAAU;kEAA6B;;;;;;kEAC1C,8OAAC;wDAAE,WAAU;kEACV,SAAS,eAAe,GAAG,CAAC,CAAC,EAAE,SAAS,eAAe,EAAE,GAAG;;;;;;;;;;;;0DAGjE,8OAAC;;kEACC,8OAAC;wDAAE,WAAU;kEAA6B;;;;;;kEAC1C,8OAAC;wDAAE,WAAU;kEAA+B,IAAI,KAAK,SAAS,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;;+BA9CvF,SAAS,GAAG;;;;;;;;;;;;;;;;;;;;;;AAuDlC","debugId":null}}]
}